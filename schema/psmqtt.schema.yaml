# psmqtt.yaml schema for the Yamala Python library

logging: include('logging',required=False)

mqtt: include('mqtt')

options: include('options',required=False)

schedule: list(include('cron_tasks'))
---
logging:
  level: str(required=False)
  file: str(required=False)
  report_status_period_sec: int(required=False)
---
mqtt:
  broker: include('broker')
  clientid: str(required=False)
  clean_session: bool(required=False)
  qos: int(required=False)
  retain: bool(required=False)
  request_topic: str(required=False)
  publish_topic_prefix: str(required=False)
---
options:
  exit_after_num_tasks: int(required=False)
---
broker:
  host: str()
  port: int()
  username: str(required=False)
  password: str(required=False)
---
cron_tasks: 
  cron: str()
  tasks: list(include('task_def'))
---
task_def:
  task: str()
  params: list(int(),str(),required=False)
  topic: str(required=False)
  formatter: str(required=False)
